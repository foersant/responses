{
  "$id": "https://w3id.org/iqb/responses/variable-list/variable-list.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Variable List",
  "description": "Data structure produced by verona editors, consumed by schemer etc.",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "pattern": "^[0-9a-zA-Z_]+$",
        "description": "Identifier for the variable"
      },
      "type": {
        "type": "string",
        "enum": [
          "string",
          "integer",
          "number",
          "boolean",
          "attachment"
        ],
        "description": "Value type"
      },
      "format": {
        "type": "string",
        "anyOf": [
          {
            "enum": [
              "text-selection",
              "image",
              "capture-image",
              "audio",
              "ggb-file",
              "non-negative"
            ]
          },
          {
            "pattern": "^[a-z0-9-]*$"
          }
        ],
        "default": "",
        "description": "More specification for value type"
      },
      "multiple": {
        "type": "boolean",
        "default": false,
        "description": "If true, this variable can hold an array of values."
      },
      "nullable": {
        "type": "boolean",
        "default": true,
        "description": "If true, this variable can hold null as value."
      },
      "values": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "value": {
              "type": "string"
            },
            "label": {
              "type": "string"
            }
          },
          "required": [
            "value"
          ]
        },
        "default": []
      },
      "valuesComplete": {
        "type": "boolean",
        "default": false
      }
    },
    "required": ["id", "type"]
  }
}
